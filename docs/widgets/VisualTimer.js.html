<!DOCTYPE html>
<html>
<head>
  <title>VisualTimer.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../doc-style.css" />
  <script src="../doc-filelist.js"></script>
  <script>
    var relativeDir = "../", thisFile = "widgets/VisualTimer.js", defaultSidebar = true;
  </script>
  <script src="../doc-script.js"></script>
</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">
      <div class="heading h1">
        <a href="#visualtimer">VisualTimer</a>
      </div>
      <div class="heading h2">
        <a href="#meta-data">Meta-data</a>
      </div>
      <div class="heading h2">
        <a href="#dependencies">Dependencies</a>
      </div>
      <div class="heading h2">
        <a href="#visualtimer%20constructor">VisualTimer constructor</a>
      </div>
      <div class="heading h3">
        <a href="#visualtimer.gametimer">VisualTimer.gameTimer</a>
      </div>
      <div class="heading h3">
        <a href="#visualtimer.mainbox">VisualTimer.mainBox</a>
      </div>
      <div class="heading h3">
        <a href="#visualtimer.waitbox">VisualTimer.waitBox</a>
      </div>
      <div class="heading h3">
        <a href="#visualtimer.activebox">VisualTimer.activeBox</a>
      </div>
      <div class="heading h3">
        <a href="#visualtimer.isinitialized">VisualTimer.isInitialized</a>
      </div>
      <div class="heading h3">
        <a href="#visualtimer.options">VisualTimer.options</a>
      </div>
      <div class="heading h3">
        <a href="#visualtimer.internaltimer">VisualTimer.internalTimer</a>
      </div>
      <div class="heading h2">
        <a href="#visualtimer%20methods">VisualTimer methods</a>
      </div>
      <div class="heading h3">
        <a href="#visualtimer.init">VisualTimer.init</a>
      </div>
      <div class="heading h3">
        <a href="#visualtimer.clear">VisualTimer.clear</a>
      </div>
      <div class="heading h3">
        <a href="#visualtimer.updatedisplay">VisualTimer.updateDisplay</a>
      </div>
      <div class="heading h3">
        <a href="#visualtimer.start">VisualTimer.start</a>
      </div>
      <div class="heading h3">
        <a href="#visualtimer.restart">VisualTimer.restart</a>
      </div>
      <div class="heading h3">
        <a href="#visualtimer.stop">VisualTimer.stop</a>
      </div>
      <div class="heading h3">
        <a href="#visualtimer.switchactiveboxto">VisualTimer.switchActiveBoxTo</a>
      </div>
      <div class="heading h3">
        <a href="#visualtimer.startwaiting">VisualTimer.startWaiting</a>
      </div>
      <div class="heading h3">
        <a href="#visualtimer.starttiming">VisualTimer.startTiming</a>
      </div>
      <div class="heading h3">
        <a href="#visualtimer.resume">VisualTimer.resume</a>
      </div>
      <div class="heading h3">
        <a href="#visualtimer.settozero">VisualTimer.setToZero</a>
      </div>
      <div class="heading h3">
        <a href="#visualtimer.istimeup">VisualTimer.isTimeup</a>
      </div>
      <div class="heading h3">
        <a href="#visualtimer.dotimeup">VisualTimer.doTimeUp</a>
      </div>
      <div class="heading h1">
        <a href="#timerbox">TimerBox</a>
      </div>
      <div class="heading h2">
        <a href="#timerbox%20constructor">TimerBox constructor</a>
      </div>
      <div class="heading h3">
        <a href="#timerbox.boxdiv">TimerBox.boxDiv</a>
      </div>
      <div class="heading h3">
        <a href="#timerbox.titlediv">TimerBox.titleDiv</a>
      </div>
      <div class="heading h3">
        <a href="#timerbox.bodydiv">TimerBox.bodyDiv</a>
      </div>
      <div class="heading h3">
        <a href="#timerbox.timeleft">TimerBox.timeLeft</a>
      </div>
      <div class="heading h2">
        <a href="#timerbox%20methods">TimerBox methods</a>
      </div>
      <div class="heading h3">
        <a href="#timerbox.hidebox">TimerBox.hideBox</a>
      </div>
      <div class="heading h3">
        <a href="#timerbox.unhidebox">TimerBox.unhideBox</a>
      </div>
      <div class="heading h3">
        <a href="#timerbox.hidetitle">TimerBox.hideTitle</a>
      </div>
      <div class="heading h3">
        <a href="#timerbox.unhidetitle">TimerBox.unhideTitle</a>
      </div>
      <div class="heading h3">
        <a href="#timerbox.hidebody">TimerBox.hideBody</a>
      </div>
      <div class="heading h3">
        <a href="#timerbox.unhidebody">TimerBox.unhideBody</a>
      </div>
      <div class="heading h3">
        <a href="#timerbox.settitle">TimerBox.setTitle</a>
      </div>
      <div class="heading h3">
        <a href="#timerbox.setclassnametitle">TimerBox.setClassNameTitle</a>
      </div>
      <div class="heading h3">
        <a href="#timerbox.setclassnamebody">TimerBox.setClassNameBody</a>
      </div>
    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container"><div class="background highlight"></div>
<table cellpadding="0" cellspacing="0">
  <tbody>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="visualtimer">
  <h1>
    <a href="#visualtimer" name="visualtimer" class="pilcrow">&#182;</a>
    VisualTimer
  </h1>
</div>


<p>Copyright(c) 2017 Stefano Balietti
MIT Licensed</p>
  </div>
  <div class="body"><p>Display a configurable timer for the game</p>

<p>Timer can trigger events, only for countdown smaller than 1h.</p>

<p>www.nodegame.org</p>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">node</span><span class="p">)</span> <span class="p">{</span>

    <span class="s2">&quot;use strict&quot;</span><span class="p">;</span>

    <span class="kd">var</span> <span class="nx">J</span> <span class="o">=</span> <span class="nx">node</span><span class="p">.</span><span class="nx">JSUS</span><span class="p">;</span>

    <span class="nx">node</span><span class="p">.</span><span class="nx">widgets</span><span class="p">.</span><span class="nx">register</span><span class="p">(</span><span class="s1">&#39;VisualTimer&#39;</span><span class="p">,</span> <span class="nx">VisualTimer</span><span class="p">);</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap" id="meta-data">
  <h2>
    <a href="#meta-data" name="meta-data" class="pilcrow">&#182;</a>
    Meta-data
  </h2>
</div>

        </td>
        <td class="code highlight"><div class="highlight"><pre>

    <span class="nx">VisualTimer</span><span class="p">.</span><span class="nx">version</span> <span class="o">=</span> <span class="s1">&#39;0.9.0&#39;</span><span class="p">;</span>
    <span class="nx">VisualTimer</span><span class="p">.</span><span class="nx">description</span> <span class="o">=</span> <span class="s1">&#39;Display a configurable timer for the game. &#39;</span> <span class="o">+</span>
        <span class="s1">&#39;Can trigger events. Only for countdown smaller than 1h.&#39;</span><span class="p">;</span>

    <span class="nx">VisualTimer</span><span class="p">.</span><span class="nx">title</span> <span class="o">=</span> <span class="s1">&#39;Time left&#39;</span><span class="p">;</span>
    <span class="nx">VisualTimer</span><span class="p">.</span><span class="nx">className</span> <span class="o">=</span> <span class="s1">&#39;visualtimer&#39;</span><span class="p">;</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap" id="dependencies">
  <h2>
    <a href="#dependencies" name="dependencies" class="pilcrow">&#182;</a>
    Dependencies
  </h2>
</div>

        </td>
        <td class="code highlight"><div class="highlight"><pre>

    <span class="nx">VisualTimer</span><span class="p">.</span><span class="nx">dependencies</span> <span class="o">=</span> <span class="p">{</span>
        <span class="nx">GameTimer</span><span class="o">:</span> <span class="p">{},</span>
        <span class="nx">JSUS</span><span class="o">:</span> <span class="p">{}</span>
    <span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="visualtimer%20constructor">
  <h2>
    <a href="#visualtimer%20constructor" name="visualtimer%20constructor" class="pilcrow">&#182;</a>
    VisualTimer constructor
  </h2>
</div>

  </div>
  <div class="body"><p><code>VisualTimer</code> displays and manages a <code>GameTimer</code></p>
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">options</span>
      <span class="dox_type">object</span>
      <span>Optional. Configuration options
The options it can take are:

<ul>
<li>any options that can be passed to a <code>GameTimer</code></li>
<li><code>waitBoxOptions</code>: an option object to be passed to <code>TimerBox</code></li>
<li><code>mainBoxOptions</code>: an option object to be passed to <code>TimerBox</code></li>
</ul></span>
    </div>
    <div class="dox_tag_title">See</div>
    <div class="dox_tag_detail">
      <span class="dox_type">TimerBox</span>
    </div>
    <div class="dox_tag_title">See</div>
    <div class="dox_tag_detail">
      <span class="dox_type">GameTimer
</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="kd">function</span> <span class="nx">VisualTimer</span><span class="p">()</span> <span class="p">{</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="visualtimer.gametimer">
  <h3>
    <a href="#visualtimer.gametimer" name="visualtimer.gametimer" class="pilcrow">&#182;</a>
    VisualTimer.gameTimer
  </h3>
</div>

  </div>
  <div class="body"><p>The timer which counts down the game time</p>
  </div>
  <div class="details">
    <div class="dox_tag_title">See</div>
    <div class="dox_tag_detail">
      <span class="dox_type">node.timer.createTimer
</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
        <span class="k">this</span><span class="p">.</span><span class="nx">gameTimer</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="visualtimer.mainbox">
  <h3>
    <a href="#visualtimer.mainbox" name="visualtimer.mainbox" class="pilcrow">&#182;</a>
    VisualTimer.mainBox
  </h3>
</div>

  </div>
  <div class="body"><p>The <code>TimerBox</code> which displays the main timer</p>
  </div>
  <div class="details">
    <div class="dox_tag_title">See</div>
    <div class="dox_tag_detail">
      <span class="dox_type">TimerBox
</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
        <span class="k">this</span><span class="p">.</span><span class="nx">mainBox</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="visualtimer.waitbox">
  <h3>
    <a href="#visualtimer.waitbox" name="visualtimer.waitbox" class="pilcrow">&#182;</a>
    VisualTimer.waitBox
  </h3>
</div>

  </div>
  <div class="body"><p>The <code>TimerBox</code> which displays the wait timer</p>
  </div>
  <div class="details">
    <div class="dox_tag_title">See</div>
    <div class="dox_tag_detail">
      <span class="dox_type">TimerBox
</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
        <span class="k">this</span><span class="p">.</span><span class="nx">waitBox</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="visualtimer.activebox">
  <h3>
    <a href="#visualtimer.activebox" name="visualtimer.activebox" class="pilcrow">&#182;</a>
    VisualTimer.activeBox
  </h3>
</div>

  </div>
  <div class="body"><p>The <code>TimerBox</code> in which to display the time</p>

<p>This variable is always a reference to either <code>waitBox</code> or
<code>mainBox</code>.</p>
  </div>
  <div class="details">
    <div class="dox_tag_title">See</div>
    <div class="dox_tag_detail">
      <span class="dox_type">TimerBox
</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
        <span class="k">this</span><span class="p">.</span><span class="nx">activeBox</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="visualtimer.isinitialized">
  <h3>
    <a href="#visualtimer.isinitialized" name="visualtimer.isinitialized" class="pilcrow">&#182;</a>
    VisualTimer.isInitialized
  </h3>
</div>

  </div>
  <div class="body"><p>Indicates whether the instance has been initializded already</p>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
        <span class="k">this</span><span class="p">.</span><span class="nx">isInitialized</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="visualtimer.options">
  <h3>
    <a href="#visualtimer.options" name="visualtimer.options" class="pilcrow">&#182;</a>
    VisualTimer.options
  </h3>
</div>

  </div>
  <div class="body"><p>Currently stored options</p>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
        <span class="k">this</span><span class="p">.</span><span class="nx">options</span> <span class="o">=</span> <span class="p">{};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="visualtimer.internaltimer">
  <h3>
    <a href="#visualtimer.internaltimer" name="visualtimer.internaltimer" class="pilcrow">&#182;</a>
    VisualTimer.internalTimer
  </h3>
</div>

  </div>
  <div class="body"><p>TRUE, if the timer is created internally</p>

<p>Internal timers are destroyed when widget is destroyed or cleared</p>
  </div>
  <div class="details">
    <div class="dox_tag_title">See</div>
    <div class="dox_tag_detail">
      <span class="dox_type">VisualTimer.gameTimer</span>
    </div>
    <div class="dox_tag_title">See</div>
    <div class="dox_tag_detail">
      <span class="dox_type">VisualTimer.destroy</span>
    </div>
    <div class="dox_tag_title">See</div>
    <div class="dox_tag_detail">
      <span class="dox_type">VisualTimer.clear
</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
        <span class="k">this</span><span class="p">.</span><span class="nx">internalTimer</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
    <span class="p">}</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap" id="visualtimer%20methods">
  <h2>
    <a href="#visualtimer%20methods" name="visualtimer%20methods" class="pilcrow">&#182;</a>
    VisualTimer methods
  </h2>
</div>

        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="visualtimer.init">
  <h3>
    <a href="#visualtimer.init" name="visualtimer.init" class="pilcrow">&#182;</a>
    VisualTimer.init
  </h3>
</div>

  </div>
  <div class="body"><p>Initializes the instance. When called again, adds options to current ones</p>

<p>The options it can take are:</p>

<ul>
<li>any options that can be passed to a <code>GameTimer</code></li>
<li>waitBoxOptions: an option object to be passed to <code>TimerBox</code></li>
<li>mainBoxOptions: an option object to be passed to <code>TimerBox</code></li>
</ul>
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">options</span>
      <span class="dox_type">object</span>
      <span>Optional. Configuration options</span>
    </div>
    <div class="dox_tag_title">See</div>
    <div class="dox_tag_detail">
      <span class="dox_type">TimerBox</span>
    </div>
    <div class="dox_tag_title">See</div>
    <div class="dox_tag_detail">
      <span class="dox_type">GameTimer
</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="nx">VisualTimer</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">init</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">t</span><span class="p">,</span> <span class="nx">gameTimerOptions</span><span class="p">;</span>

        <span class="nx">options</span> <span class="o">=</span> <span class="nx">options</span> <span class="o">||</span> <span class="p">{};</span>
        <span class="k">if</span> <span class="p">(</span><span class="s1">&#39;object&#39;</span> <span class="o">!==</span> <span class="k">typeof</span> <span class="nx">options</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="nx">TypeError</span><span class="p">(</span><span class="s1">&#39;VisualTimer.init: options must be &#39;</span> <span class="o">+</span>
                                <span class="s1">&#39;object or undefined&#39;</span><span class="p">);</span>
        <span class="p">}</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-14" id="section-14">&#182;</a>
</div>
<p>Important! Do not modify directly options, because it might
modify a step-property. Will manual clone later.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
        <span class="nx">gameTimerOptions</span> <span class="o">=</span> <span class="p">{};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-15" id="section-15">&#182;</a>
</div>
<p>If gameTimer is not already set, check options, then
try to use node.game.timer, if defined, otherwise crete a new timer.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
        <span class="k">if</span> <span class="p">(</span><span class="s1">&#39;undefined&#39;</span> <span class="o">!==</span> <span class="k">typeof</span> <span class="nx">options</span><span class="p">.</span><span class="nx">gameTimer</span><span class="p">)</span> <span class="p">{</span>

            <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">gameTimer</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s1">&#39;GameTimer.init: options.gameTimer cannot &#39;</span> <span class="o">+</span>
                                <span class="s1">&#39;be set if a gameTimer is already existing: &#39;</span> <span class="o">+</span>
                                <span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="k">if</span> <span class="p">(</span><span class="s1">&#39;object&#39;</span> <span class="o">!==</span> <span class="k">typeof</span> <span class="nx">options</span><span class="p">.</span><span class="nx">gameTimer</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">throw</span> <span class="k">new</span> <span class="nx">TypeError</span><span class="p">(</span><span class="s1">&#39;VisualTimer.init: options.&#39;</span> <span class="o">+</span>
                                    <span class="s1">&#39;gameTimer must be object or &#39;</span> <span class="o">+</span>
                                    <span class="s1">&#39;undefined. Found: &#39;</span> <span class="o">+</span> <span class="nx">options</span><span class="p">.</span><span class="nx">gameTimer</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">gameTimer</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">gameTimer</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">isInitialized</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">this</span><span class="p">.</span><span class="nx">internalTimer</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
                <span class="k">this</span><span class="p">.</span><span class="nx">gameTimer</span> <span class="o">=</span> <span class="nx">node</span><span class="p">.</span><span class="nx">timer</span><span class="p">.</span><span class="nx">createTimer</span><span class="p">({</span>
                    <span class="nx">name</span><span class="o">:</span> <span class="nx">options</span><span class="p">.</span><span class="nx">name</span> <span class="o">||</span> <span class="s1">&#39;VisualTimer&#39;</span>
                <span class="p">});</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">hooks</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">internalTimer</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s1">&#39;VisualTimer.init: cannot add hooks on &#39;</span> <span class="o">+</span>
                                <span class="s1">&#39;external gameTimer.&#39;</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">J</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">hooks</span><span class="p">))</span> <span class="p">{</span>
                <span class="nx">gameTimerOptions</span><span class="p">.</span><span class="nx">hooks</span> <span class="o">=</span> <span class="p">[</span> <span class="nx">options</span><span class="p">.</span><span class="nx">hooks</span> <span class="p">];</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="p">{</span>
            <span class="nx">gameTimerOptions</span><span class="p">.</span><span class="nx">hooks</span> <span class="o">=</span> <span class="p">[];</span>
        <span class="p">}</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-16" id="section-16">&#182;</a>
</div>
<p>Only push this hook once.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">isInitialized</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">gameTimerOptions</span><span class="p">.</span><span class="nx">hooks</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span>
                <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;VisualTimer_&#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">wid</span><span class="p">,</span>
                <span class="nx">hook</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">updateDisplay</span><span class="p">,</span>
                <span class="nx">ctx</span><span class="o">:</span> <span class="k">this</span>
            <span class="p">});</span>
        <span class="p">}</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-17" id="section-17">&#182;</a>
</div>
<p>Important! Manual clone must be done after hooks and gameTimer.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-18" id="section-18">&#182;</a>
</div>
<p>Parse milliseconds option.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
        <span class="k">if</span> <span class="p">(</span><span class="s1">&#39;undefined&#39;</span> <span class="o">!==</span> <span class="k">typeof</span> <span class="nx">options</span><span class="p">.</span><span class="nx">milliseconds</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">gameTimerOptions</span><span class="p">.</span><span class="nx">milliseconds</span> <span class="o">=</span>
                <span class="nx">node</span><span class="p">.</span><span class="nx">timer</span><span class="p">.</span><span class="nx">parseInput</span><span class="p">(</span><span class="s1">&#39;milliseconds&#39;</span><span class="p">,</span> <span class="nx">options</span><span class="p">.</span><span class="nx">milliseconds</span><span class="p">);</span>
        <span class="p">}</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-19" id="section-19">&#182;</a>
</div>
<p>Parse update option.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
        <span class="k">if</span> <span class="p">(</span><span class="s1">&#39;undefined&#39;</span> <span class="o">!==</span> <span class="k">typeof</span> <span class="nx">options</span><span class="p">.</span><span class="nx">update</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">gameTimerOptions</span><span class="p">.</span><span class="nx">update</span> <span class="o">=</span>
                <span class="nx">node</span><span class="p">.</span><span class="nx">timer</span><span class="p">.</span><span class="nx">parseInput</span><span class="p">(</span><span class="s1">&#39;update&#39;</span><span class="p">,</span> <span class="nx">options</span><span class="p">.</span><span class="nx">update</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="p">{</span>
            <span class="nx">gameTimerOptions</span><span class="p">.</span><span class="nx">update</span> <span class="o">=</span> <span class="mi">1000</span><span class="p">;</span>
        <span class="p">}</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-20" id="section-20">&#182;</a>
</div>
<p>Parse timeup option.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
        <span class="k">if</span> <span class="p">(</span><span class="s1">&#39;undefined&#39;</span> <span class="o">!==</span> <span class="k">typeof</span> <span class="nx">options</span><span class="p">.</span><span class="nx">timeup</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">gameTimerOptions</span><span class="p">.</span><span class="nx">timeup</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">timeup</span><span class="p">;</span>
        <span class="p">}</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-21" id="section-21">&#182;</a>
</div>
<p>Init the gameTimer, regardless of the source (internal vs external).</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
        <span class="k">this</span><span class="p">.</span><span class="nx">gameTimer</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="nx">gameTimerOptions</span><span class="p">);</span>

        <span class="nx">t</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">gameTimer</span><span class="p">;</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-22" id="section-22">&#182;</a>
</div>
<p>TODO: not using session for now.
        node.session.register('visualtimer', {
            set: function(p) {
                // TODO
            },
            get: function() {
                return {
                    startPaused: t.startPaused,
                        status: t.status,
                    timeLeft: t.timeLeft,
                    timePassed: t.timePassed,
                    update: t.update,
                    updateRemaining: t.updateRemaining,
                    updateStart: t. updateStart
                };
            }
        });</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>

        <span class="k">this</span><span class="p">.</span><span class="nx">options</span> <span class="o">=</span> <span class="nx">gameTimerOptions</span><span class="p">;</span>

        <span class="k">if</span> <span class="p">(</span><span class="s1">&#39;undefined&#39;</span> <span class="o">===</span> <span class="k">typeof</span> <span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">stopOnDone</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">stopOnDone</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="p">(</span><span class="s1">&#39;undefined&#39;</span> <span class="o">===</span> <span class="k">typeof</span> <span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">startOnPlaying</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">startOnPlaying</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">mainBoxOptions</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">mainBoxOptions</span> <span class="o">=</span> <span class="p">{};</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">waitBoxOptions</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">waitBoxOptions</span> <span class="o">=</span> <span class="p">{};</span>
        <span class="p">}</span>

        <span class="nx">J</span><span class="p">.</span><span class="nx">mixout</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">mainBoxOptions</span><span class="p">,</span>
                <span class="p">{</span><span class="nx">classNameBody</span><span class="o">:</span> <span class="nx">options</span><span class="p">.</span><span class="nx">className</span><span class="p">,</span> <span class="nx">hideTitle</span><span class="o">:</span> <span class="kc">true</span><span class="p">});</span>
        <span class="nx">J</span><span class="p">.</span><span class="nx">mixout</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">waitBoxOptions</span><span class="p">,</span>
                <span class="p">{</span><span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;Max. wait timer&#39;</span><span class="p">,</span>
                <span class="nx">classNameTitle</span><span class="o">:</span> <span class="s1">&#39;waitTimerTitle&#39;</span><span class="p">,</span>
                <span class="nx">classNameBody</span><span class="o">:</span> <span class="s1">&#39;waitTimerBody&#39;</span><span class="p">,</span> <span class="nx">hideBox</span><span class="o">:</span> <span class="kc">true</span><span class="p">});</span>

        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">mainBox</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">mainBox</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TimerBox</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">mainBoxOptions</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">mainBox</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">mainBoxOptions</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">waitBox</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">waitBox</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TimerBox</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">waitBoxOptions</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">waitBox</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">waitBoxOptions</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="k">this</span><span class="p">.</span><span class="nx">activeBox</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">activeBox</span> <span class="o">||</span> <span class="k">this</span><span class="p">.</span><span class="nx">mainBox</span><span class="p">;</span>

        <span class="k">this</span><span class="p">.</span><span class="nx">isInitialized</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="p">};</span>

    <span class="nx">VisualTimer</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">append</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">bodyDiv</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">mainBox</span><span class="p">.</span><span class="nx">boxDiv</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">bodyDiv</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">waitBox</span><span class="p">.</span><span class="nx">boxDiv</span><span class="p">);</span>

        <span class="k">this</span><span class="p">.</span><span class="nx">activeBox</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">mainBox</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">updateDisplay</span><span class="p">();</span>
    <span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="visualtimer.clear">
  <h3>
    <a href="#visualtimer.clear" name="visualtimer.clear" class="pilcrow">&#182;</a>
    VisualTimer.clear
  </h3>
</div>

  </div>
  <div class="body"><p>Reverts state of <code>VisualTimer</code> to right after creation</p>
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">options</span>
      <span class="dox_type">object</span>
      <span>Configuration object</span>
    </div>
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">object</span>
      <span>oldOptions The Old options</span>
    </div>
    <div class="dox_tag_title">See</div>
    <div class="dox_tag_detail">
      <span class="dox_type">node.timer.destroyTimer</span>
    </div>
    <div class="dox_tag_title">See</div>
    <div class="dox_tag_detail">
      <span class="dox_type">VisualTimer.init
</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="nx">VisualTimer</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">clear</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">oldOptions</span><span class="p">;</span>
        <span class="nx">options</span> <span class="o">=</span> <span class="nx">options</span> <span class="o">||</span> <span class="p">{};</span>
        <span class="nx">oldOptions</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">;</span>

        <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">internalTimer</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">node</span><span class="p">.</span><span class="nx">timer</span><span class="p">.</span><span class="nx">destroyTimer</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">gameTimer</span><span class="p">);</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">internalTimer</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">gameTimer</span><span class="p">.</span><span class="nx">removeHook</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">updateHookName</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="k">this</span><span class="p">.</span><span class="nx">gameTimer</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">activeBox</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">isInitialized</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="nx">options</span><span class="p">);</span>

        <span class="k">return</span> <span class="nx">oldOptions</span><span class="p">;</span>
    <span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="visualtimer.updatedisplay">
  <h3>
    <a href="#visualtimer.updatedisplay" name="visualtimer.updatedisplay" class="pilcrow">&#182;</a>
    VisualTimer.updateDisplay
  </h3>
</div>

  </div>
  <div class="body"><p>Changes <code>activeBox</code> to display current time of <code>gameTimer</code></p>
  </div>
  <div class="details">
    <div class="dox_tag_title">See</div>
    <div class="dox_tag_detail">
      <span class="dox_type">TimerBox.bodyDiv
</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="nx">VisualTimer</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">updateDisplay</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">time</span><span class="p">,</span> <span class="nx">minutes</span><span class="p">,</span> <span class="nx">seconds</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">gameTimer</span><span class="p">.</span><span class="nx">milliseconds</span> <span class="o">||</span> <span class="k">this</span><span class="p">.</span><span class="nx">gameTimer</span><span class="p">.</span><span class="nx">milliseconds</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">activeBox</span><span class="p">.</span><span class="nx">bodyDiv</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="s1">&#39;00:00&#39;</span><span class="p">;</span>
            <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="nx">time</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">gameTimer</span><span class="p">.</span><span class="nx">milliseconds</span> <span class="o">-</span> <span class="k">this</span><span class="p">.</span><span class="nx">gameTimer</span><span class="p">.</span><span class="nx">timePassed</span><span class="p">;</span>
        <span class="nx">time</span> <span class="o">=</span> <span class="nx">J</span><span class="p">.</span><span class="nx">parseMilliseconds</span><span class="p">(</span><span class="nx">time</span><span class="p">);</span>
        <span class="nx">minutes</span> <span class="o">=</span> <span class="p">(</span><span class="nx">time</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">)</span> <span class="o">?</span> <span class="s1">&#39;&#39;</span> <span class="o">+</span> <span class="s1">&#39;0&#39;</span> <span class="o">+</span> <span class="nx">time</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">:</span> <span class="nx">time</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
        <span class="nx">seconds</span> <span class="o">=</span> <span class="p">(</span><span class="nx">time</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">)</span> <span class="o">?</span> <span class="s1">&#39;&#39;</span> <span class="o">+</span> <span class="s1">&#39;0&#39;</span> <span class="o">+</span> <span class="nx">time</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">:</span> <span class="nx">time</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">activeBox</span><span class="p">.</span><span class="nx">bodyDiv</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">minutes</span> <span class="o">+</span> <span class="s1">&#39;:&#39;</span> <span class="o">+</span> <span class="nx">seconds</span><span class="p">;</span>
    <span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="visualtimer.start">
  <h3>
    <a href="#visualtimer.start" name="visualtimer.start" class="pilcrow">&#182;</a>
    VisualTimer.start
  </h3>
</div>

  </div>
  <div class="body"><p>Starts the timer</p>
  </div>
  <div class="details">
    <div class="dox_tag_title">See</div>
    <div class="dox_tag_detail">
      <span class="dox_type">VisualTimer.updateDisplay</span>
    </div>
    <div class="dox_tag_title">See</div>
    <div class="dox_tag_detail">
      <span class="dox_type">GameTimer.start
</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="nx">VisualTimer</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">start</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">updateDisplay</span><span class="p">();</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">gameTimer</span><span class="p">.</span><span class="nx">start</span><span class="p">();</span>
    <span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="visualtimer.restart">
  <h3>
    <a href="#visualtimer.restart" name="visualtimer.restart" class="pilcrow">&#182;</a>
    VisualTimer.restart
  </h3>
</div>

  </div>
  <div class="body"><p>Restarts the timer with new options</p>
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">options</span>
      <span class="dox_type">object</span>
      <span>Configuration object</span>
    </div>
    <div class="dox_tag_title">See</div>
    <div class="dox_tag_detail">
      <span class="dox_type">VisualTimer.init</span>
    </div>
    <div class="dox_tag_title">See</div>
    <div class="dox_tag_detail">
      <span class="dox_type">VisualTimer.start</span>
    </div>
    <div class="dox_tag_title">See</div>
    <div class="dox_tag_detail">
      <span class="dox_type">VisualTimer.stop
</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="nx">VisualTimer</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">restart</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">stop</span><span class="p">();</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="nx">options</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">start</span><span class="p">();</span>
    <span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="visualtimer.stop">
  <h3>
    <a href="#visualtimer.stop" name="visualtimer.stop" class="pilcrow">&#182;</a>
    VisualTimer.stop
  </h3>
</div>

  </div>
  <div class="body"><p>Stops the timer display and stores the time left in <code>activeBox.timeLeft</code></p>
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">options</span>
      <span class="dox_type">object</span>
      <span>Configuration object</span>
    </div>
    <div class="dox_tag_title">See</div>
    <div class="dox_tag_detail">
      <span class="dox_type">GameTimer.isStopped</span>
    </div>
    <div class="dox_tag_title">See</div>
    <div class="dox_tag_detail">
      <span class="dox_type">GameTimer.stop
</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="nx">VisualTimer</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">stop</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">gameTimer</span><span class="p">.</span><span class="nx">isStopped</span><span class="p">())</span> <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">activeBox</span><span class="p">.</span><span class="nx">timeLeft</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">gameTimer</span><span class="p">.</span><span class="nx">timeLeft</span><span class="p">;</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">gameTimer</span><span class="p">.</span><span class="nx">stop</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">};</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="visualtimer.switchactiveboxto">
  <h3>
    <a href="#visualtimer.switchactiveboxto" name="visualtimer.switchactiveboxto" class="pilcrow">&#182;</a>
    VisualTimer.switchActiveBoxTo
  </h3>
</div>

  </div>
  <div class="body"><p>Switches the display of the <code>gameTimer</code> into the <code>TimerBox</code> <code>box</code></p>

<p>Stores <code>gameTimer.timeLeft</code> into <code>activeBox</code> and then switches
<code>activeBox</code> to reference <code>box</code>.</p>
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">box</span>
      <span class="dox_type">TimerBox</span>
      <span>TimerBox in which to display <code>gameTimer</code> time</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="nx">VisualTimer</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">switchActiveBoxTo</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">box</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">activeBox</span><span class="p">.</span><span class="nx">timeLeft</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">gameTimer</span><span class="p">.</span><span class="nx">timeLeft</span> <span class="o">||</span> <span class="mi">0</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">activeBox</span> <span class="o">=</span> <span class="nx">box</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">updateDisplay</span><span class="p">();</span>
    <span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="visualtimer.startwaiting">
  <h3>
    <a href="#visualtimer.startwaiting" name="visualtimer.startwaiting" class="pilcrow">&#182;</a>
    VisualTimer.startWaiting
  </h3>
</div>

  </div>
  <div class="body"><p>Stops the timer and changes the appearance to a max. wait timer</p>

<p>If options and/or options.milliseconds are undefined, the wait timer
will start with the current time left on the <code>gameTimer</code>. The mainBox
will be striked out, the waitBox set active and unhidden. All other
options are forwarded directly to <code>VisualTimer.restart</code>.</p>
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">options</span>
      <span class="dox_type">object</span>
      <span>Configuration object</span>
    </div>
    <div class="dox_tag_title">See</div>
    <div class="dox_tag_detail">
      <span class="dox_type">VisualTimer.restart
</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="nx">VisualTimer</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">startWaiting</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="s1">&#39;undefined&#39;</span> <span class="o">===</span> <span class="k">typeof</span> <span class="nx">options</span><span class="p">)</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{};</span>

        <span class="k">if</span> <span class="p">(</span><span class="s1">&#39;undefined&#39;</span> <span class="o">===</span> <span class="k">typeof</span> <span class="nx">options</span><span class="p">.</span><span class="nx">milliseconds</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">options</span><span class="p">.</span><span class="nx">milliseconds</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">gameTimer</span><span class="p">.</span><span class="nx">timeLeft</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="p">(</span><span class="s1">&#39;undefined&#39;</span> <span class="o">===</span> <span class="k">typeof</span> <span class="nx">options</span><span class="p">.</span><span class="nx">mainBoxOptions</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">options</span><span class="p">.</span><span class="nx">mainBoxOptions</span> <span class="o">=</span> <span class="p">{};</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="p">(</span><span class="s1">&#39;undefined&#39;</span> <span class="o">===</span> <span class="k">typeof</span> <span class="nx">options</span><span class="p">.</span><span class="nx">waitBoxOptions</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">options</span><span class="p">.</span><span class="nx">waitBoxOptions</span> <span class="o">=</span> <span class="p">{};</span>
        <span class="p">}</span>
        <span class="nx">options</span><span class="p">.</span><span class="nx">mainBoxOptions</span><span class="p">.</span><span class="nx">classNameBody</span> <span class="o">=</span> <span class="s1">&#39;strike&#39;</span><span class="p">;</span>
        <span class="nx">options</span><span class="p">.</span><span class="nx">mainBoxOptions</span><span class="p">.</span><span class="nx">timeLeft</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">gameTimer</span><span class="p">.</span><span class="nx">timeLeft</span> <span class="o">||</span> <span class="mi">0</span><span class="p">;</span>
        <span class="nx">options</span><span class="p">.</span><span class="nx">activeBox</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">waitBox</span><span class="p">;</span>
        <span class="nx">options</span><span class="p">.</span><span class="nx">waitBoxOptions</span><span class="p">.</span><span class="nx">hideBox</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">restart</span><span class="p">(</span><span class="nx">options</span><span class="p">);</span>
    <span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="visualtimer.starttiming">
  <h3>
    <a href="#visualtimer.starttiming" name="visualtimer.starttiming" class="pilcrow">&#182;</a>
    VisualTimer.startTiming
  </h3>
</div>

  </div>
  <div class="body"><p>Starts the timer and changes appearance to a regular countdown</p>

<p>The mainBox will be unstriked and set active, the waitBox will be
hidden. All other options are forwarded directly to
<code>VisualTimer.restart</code>.</p>
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">options</span>
      <span class="dox_type">object</span>
      <span>Configuration object</span>
    </div>
    <div class="dox_tag_title">See</div>
    <div class="dox_tag_detail">
      <span class="dox_type">VisualTimer.restart
</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="nx">VisualTimer</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">startTiming</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="s1">&#39;undefined&#39;</span> <span class="o">===</span> <span class="k">typeof</span> <span class="nx">options</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">options</span> <span class="o">=</span> <span class="p">{};</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="p">(</span><span class="s1">&#39;undefined&#39;</span> <span class="o">===</span> <span class="k">typeof</span> <span class="nx">options</span><span class="p">.</span><span class="nx">mainBoxOptions</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">options</span><span class="p">.</span><span class="nx">mainBoxOptions</span> <span class="o">=</span> <span class="p">{};</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="p">(</span><span class="s1">&#39;undefined&#39;</span> <span class="o">===</span> <span class="k">typeof</span> <span class="nx">options</span><span class="p">.</span><span class="nx">waitBoxOptions</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">options</span><span class="p">.</span><span class="nx">waitBoxOptions</span> <span class="o">=</span> <span class="p">{};</span>
        <span class="p">}</span>
        <span class="nx">options</span><span class="p">.</span><span class="nx">activeBox</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">mainBox</span><span class="p">;</span>
        <span class="nx">options</span><span class="p">.</span><span class="nx">waitBoxOptions</span><span class="p">.</span><span class="nx">timeLeft</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">gameTimer</span><span class="p">.</span><span class="nx">timeLeft</span> <span class="o">||</span> <span class="mi">0</span><span class="p">;</span>
        <span class="nx">options</span><span class="p">.</span><span class="nx">waitBoxOptions</span><span class="p">.</span><span class="nx">hideBox</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
        <span class="nx">options</span><span class="p">.</span><span class="nx">mainBoxOptions</span><span class="p">.</span><span class="nx">classNameBody</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">restart</span><span class="p">(</span><span class="nx">options</span><span class="p">);</span>
    <span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="visualtimer.resume">
  <h3>
    <a href="#visualtimer.resume" name="visualtimer.resume" class="pilcrow">&#182;</a>
    VisualTimer.resume
  </h3>
</div>

  </div>
  <div class="body"><p>Resumes the <code>gameTimer</code></p>
  </div>
  <div class="details">
    <div class="dox_tag_title">See</div>
    <div class="dox_tag_detail">
      <span class="dox_type">GameTimer.resume
</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="nx">VisualTimer</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">resume</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">gameTimer</span><span class="p">.</span><span class="nx">resume</span><span class="p">();</span>
    <span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="visualtimer.settozero">
  <h3>
    <a href="#visualtimer.settozero" name="visualtimer.settozero" class="pilcrow">&#182;</a>
    VisualTimer.setToZero
  </h3>
</div>

  </div>
  <div class="body"><p>Stops <code>gameTimer</code> and sets <code>activeBox</code> to display <code>00:00</code></p>
  </div>
  <div class="details">
    <div class="dox_tag_title">See</div>
    <div class="dox_tag_detail">
      <span class="dox_type">GameTimer.resume
</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="nx">VisualTimer</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">setToZero</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">stop</span><span class="p">();</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">activeBox</span><span class="p">.</span><span class="nx">bodyDiv</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="s1">&#39;00:00&#39;</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">activeBox</span><span class="p">.</span><span class="nx">setClassNameBody</span><span class="p">(</span><span class="s1">&#39;strike&#39;</span><span class="p">);</span>
    <span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="visualtimer.istimeup">
  <h3>
    <a href="#visualtimer.istimeup" name="visualtimer.istimeup" class="pilcrow">&#182;</a>
    VisualTimer.isTimeup
  </h3>
</div>

  </div>
  <div class="body"><p>Returns TRUE if the timer expired</p>

<p>This method is added for backward compatibility.</p>
  </div>
  <div class="details">
    <div class="dox_tag_title">See</div>
    <div class="dox_tag_detail">
      <span class="dox_type">GameTimer.isTimeup
</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="nx">VisualTimer</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">isTimeup</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">gameTimer</span><span class="p">.</span><span class="nx">isTimeup</span><span class="p">();</span>
    <span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="visualtimer.dotimeup">
  <h3>
    <a href="#visualtimer.dotimeup" name="visualtimer.dotimeup" class="pilcrow">&#182;</a>
    VisualTimer.doTimeUp
  </h3>
</div>

  </div>
  <div class="body"><p>Stops the timer and calls the timeup</p>
  </div>
  <div class="details">
    <div class="dox_tag_title">See</div>
    <div class="dox_tag_detail">
      <span class="dox_type">GameTimer.doTimeup
</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="nx">VisualTimer</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">doTimeUp</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">gameTimer</span><span class="p">.</span><span class="nx">doTimeUp</span><span class="p">();</span>
    <span class="p">};</span>

    <span class="nx">VisualTimer</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">listeners</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">that</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-35" id="section-35">&#182;</a>
</div>
<p>Add listeners only on internal timer.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">internalTimer</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>

        <span class="nx">node</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;PLAYING&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">options</span><span class="p">;</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">that</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">startOnPlaying</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">options</span> <span class="o">=</span> <span class="nx">that</span><span class="p">.</span><span class="nx">gameTimer</span><span class="p">.</span><span class="nx">getStepOptions</span><span class="p">();</span>
                <span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">)</span> <span class="p">{</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-36" id="section-36">&#182;</a>
</div>
<p>Visual update is here (1000 usually).</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
                    <span class="nx">options</span><span class="p">.</span><span class="nx">update</span> <span class="o">=</span> <span class="nx">that</span><span class="p">.</span><span class="nx">update</span><span class="p">;</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-37" id="section-37">&#182;</a>
</div>
<p>Make sure timeup is not used (game.timer does it).</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
                    <span class="nx">options</span><span class="p">.</span><span class="nx">timeup</span> <span class="o">=</span> <span class="kc">undefined</span><span class="p">;</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-38" id="section-38">&#182;</a>
</div>
<p>Options other than <code>update</code>, <code>timeup</code>,
<code>milliseconds</code>, <code>hooks</code>, <code>gameTimer</code> are ignored.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
                    <span class="nx">that</span><span class="p">.</span><span class="nx">startTiming</span><span class="p">(</span><span class="nx">options</span><span class="p">);</span>
                <span class="p">}</span>
                <span class="k">else</span> <span class="p">{</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-39" id="section-39">&#182;</a>
</div>
<p>Set to zero if it was not started already.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
                    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">that</span><span class="p">.</span><span class="nx">gameTimer</span><span class="p">.</span><span class="nx">isRunning</span><span class="p">())</span> <span class="nx">that</span><span class="p">.</span><span class="nx">setToZero</span><span class="p">();</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">});</span>

        <span class="nx">node</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;REALLY_DONE&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">that</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">stopOnDone</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">that</span><span class="p">.</span><span class="nx">gameTimer</span><span class="p">.</span><span class="nx">isStopped</span><span class="p">())</span> <span class="p">{</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-40" id="section-40">&#182;</a>
</div>
<p>This was creating problems, so we just stop it.
It could be an option, though.
that.startWaiting();</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
                    <span class="nx">that</span><span class="p">.</span><span class="nx">stop</span><span class="p">();</span>
                <span class="p">}</span>
            <span class="p">}</span>
       <span class="p">});</span>
    <span class="p">};</span>

    <span class="nx">VisualTimer</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">destroy</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">internalTimer</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">node</span><span class="p">.</span><span class="nx">timer</span><span class="p">.</span><span class="nx">destroyTimer</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">gameTimer</span><span class="p">);</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">internalTimer</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">gameTimer</span><span class="p">.</span><span class="nx">removeHook</span><span class="p">(</span><span class="s1">&#39;VisualTimer_&#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">wid</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">bodyDiv</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">mainBox</span><span class="p">.</span><span class="nx">boxDiv</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">bodyDiv</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">waitBox</span><span class="p">.</span><span class="nx">boxDiv</span><span class="p">);</span>
    <span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="timerbox">
  <h1>
    <a href="#timerbox" name="timerbox" class="pilcrow">&#182;</a>
    TimerBox
  </h1>
</div>

  </div>
  <div class="body"><p>Copyright(c) 2015 Stefano Balietti
MIT Licensed</p>

<p>Represents a box wherin to display a <code>VisualTimer</code></p>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="timerbox%20constructor">
  <h2>
    <a href="#timerbox%20constructor" name="timerbox%20constructor" class="pilcrow">&#182;</a>
    TimerBox constructor
  </h2>
</div>

  </div>
  <div class="body"><p><code>TimerBox</code> represents a box wherein to display the timer</p>
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">options</span>
      <span class="dox_type">object</span>
      <span>Optional. Configuration options
  The options it can take are:

<ul>
<li><code>hideTitle</code></li>
<li><code>hideBody</code></li>
<li><code>hideBox</code></li>
<li><code>title</code></li>
<li><code>classNameTitle</code></li>
<li><code>classNameBody</code></li>
<li><code>timeLeft</code></li>
</ul></span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="kd">function</span> <span class="nx">TimerBox</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span> <span class="p">{</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="timerbox.boxdiv">
  <h3>
    <a href="#timerbox.boxdiv" name="timerbox.boxdiv" class="pilcrow">&#182;</a>
    TimerBox.boxDiv
  </h3>
</div>

  </div>
  <div class="body"><p>The Div which will contain the title and body Divs</p>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
        <span class="k">this</span><span class="p">.</span><span class="nx">boxDiv</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="timerbox.titlediv">
  <h3>
    <a href="#timerbox.titlediv" name="timerbox.titlediv" class="pilcrow">&#182;</a>
    TimerBox.titleDiv
  </h3>
</div>

  </div>
  <div class="body"><p>The Div which will contain the title</p>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
        <span class="k">this</span><span class="p">.</span><span class="nx">titleDiv</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="timerbox.bodydiv">
  <h3>
    <a href="#timerbox.bodydiv" name="timerbox.bodydiv" class="pilcrow">&#182;</a>
    TimerBox.bodyDiv
  </h3>
</div>

  </div>
  <div class="body"><p>The Div which will contain the numbers</p>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
        <span class="k">this</span><span class="p">.</span><span class="nx">bodyDiv</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="timerbox.timeleft">
  <h3>
    <a href="#timerbox.timeleft" name="timerbox.timeleft" class="pilcrow">&#182;</a>
    TimerBox.timeLeft
  </h3>
</div>

  </div>
  <div class="body"><p>Used to store the last value before focus is taken away</p>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
        <span class="k">this</span><span class="p">.</span><span class="nx">timeLeft</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>

        <span class="k">this</span><span class="p">.</span><span class="nx">boxDiv</span> <span class="o">=</span> <span class="nx">node</span><span class="p">.</span><span class="nb">window</span><span class="p">.</span><span class="nx">getDiv</span><span class="p">();</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">titleDiv</span> <span class="o">=</span> <span class="nx">node</span><span class="p">.</span><span class="nb">window</span><span class="p">.</span><span class="nx">addDiv</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">boxDiv</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">bodyDiv</span> <span class="o">=</span> <span class="nx">node</span><span class="p">.</span><span class="nb">window</span><span class="p">.</span><span class="nx">addDiv</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">boxDiv</span><span class="p">);</span>

        <span class="k">this</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="nx">options</span><span class="p">);</span>

    <span class="p">}</span>

    <span class="nx">TimerBox</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">init</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">hideTitle</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">this</span><span class="p">.</span><span class="nx">hideTitle</span><span class="p">();</span>
            <span class="p">}</span>
            <span class="k">else</span> <span class="p">{</span>
                <span class="k">this</span><span class="p">.</span><span class="nx">unhideTitle</span><span class="p">();</span>
            <span class="p">}</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">hideBody</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">this</span><span class="p">.</span><span class="nx">hideBody</span><span class="p">();</span>
            <span class="p">}</span>
            <span class="k">else</span> <span class="p">{</span>
                <span class="k">this</span><span class="p">.</span><span class="nx">unhideBody</span><span class="p">();</span>
            <span class="p">}</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">hideBox</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">this</span><span class="p">.</span><span class="nx">hideBox</span><span class="p">();</span>
            <span class="p">}</span>
            <span class="k">else</span> <span class="p">{</span>
                <span class="k">this</span><span class="p">.</span><span class="nx">unhideBox</span><span class="p">();</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="k">this</span><span class="p">.</span><span class="nx">setTitle</span><span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">title</span> <span class="o">||</span> <span class="s1">&#39;&#39;</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">setClassNameTitle</span><span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">classNameTitle</span> <span class="o">||</span> <span class="s1">&#39;&#39;</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">setClassNameBody</span><span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">classNameBody</span> <span class="o">||</span> <span class="s1">&#39;&#39;</span><span class="p">);</span>

        <span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">timeLeft</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">timeLeft</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">timeLeft</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap" id="timerbox%20methods">
  <h2>
    <a href="#timerbox%20methods" name="timerbox%20methods" class="pilcrow">&#182;</a>
    TimerBox methods
  </h2>
</div>

        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="timerbox.hidebox">
  <h3>
    <a href="#timerbox.hidebox" name="timerbox.hidebox" class="pilcrow">&#182;</a>
    TimerBox.hideBox
  </h3>
</div>

  </div>
  <div class="body"><p>Hides entire <code>TimerBox</code></p>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="nx">TimerBox</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">hideBox</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">boxDiv</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span> <span class="o">=</span> <span class="s1">&#39;none&#39;</span><span class="p">;</span>
    <span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="timerbox.unhidebox">
  <h3>
    <a href="#timerbox.unhidebox" name="timerbox.unhidebox" class="pilcrow">&#182;</a>
    TimerBox.unhideBox
  </h3>
</div>

  </div>
  <div class="body"><p>Hides entire <code>TimerBox</code></p>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="nx">TimerBox</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">unhideBox</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">boxDiv</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
    <span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="timerbox.hidetitle">
  <h3>
    <a href="#timerbox.hidetitle" name="timerbox.hidetitle" class="pilcrow">&#182;</a>
    TimerBox.hideTitle
  </h3>
</div>

  </div>
  <div class="body"><p>Hides title of <code>TimerBox</code></p>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="nx">TimerBox</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">hideTitle</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">titleDiv</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span> <span class="o">=</span> <span class="s1">&#39;none&#39;</span><span class="p">;</span>
    <span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="timerbox.unhidetitle">
  <h3>
    <a href="#timerbox.unhidetitle" name="timerbox.unhidetitle" class="pilcrow">&#182;</a>
    TimerBox.unhideTitle
  </h3>
</div>

  </div>
  <div class="body"><p>Unhides title of <code>TimerBox</code></p>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="nx">TimerBox</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">unhideTitle</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">titleDiv</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
    <span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="timerbox.hidebody">
  <h3>
    <a href="#timerbox.hidebody" name="timerbox.hidebody" class="pilcrow">&#182;</a>
    TimerBox.hideBody
  </h3>
</div>

  </div>
  <div class="body"><p>Hides body of <code>TimerBox</code></p>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="nx">TimerBox</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">hideBody</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">bodyDiv</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span> <span class="o">=</span> <span class="s1">&#39;none&#39;</span><span class="p">;</span>
    <span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="timerbox.unhidebody">
  <h3>
    <a href="#timerbox.unhidebody" name="timerbox.unhidebody" class="pilcrow">&#182;</a>
    TimerBox.unhideBody
  </h3>
</div>

  </div>
  <div class="body"><p>Unhides Body of <code>TimerBox</code></p>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="nx">TimerBox</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">unhideBody</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">bodyDiv</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
    <span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="timerbox.settitle">
  <h3>
    <a href="#timerbox.settitle" name="timerbox.settitle" class="pilcrow">&#182;</a>
    TimerBox.setTitle
  </h3>
</div>

  </div>
  <div class="body"><p>Sets title of <code>TimerBox</code></p>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="nx">TimerBox</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">setTitle</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">title</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">titleDiv</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">title</span><span class="p">;</span>
    <span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="timerbox.setclassnametitle">
  <h3>
    <a href="#timerbox.setclassnametitle" name="timerbox.setclassnametitle" class="pilcrow">&#182;</a>
    TimerBox.setClassNameTitle
  </h3>
</div>

  </div>
  <div class="body"><p>Sets class name of title of <code>TimerBox</code></p>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="nx">TimerBox</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">setClassNameTitle</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">className</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">titleDiv</span><span class="p">.</span><span class="nx">className</span> <span class="o">=</span> <span class="nx">className</span><span class="p">;</span>
    <span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="timerbox.setclassnamebody">
  <h3>
    <a href="#timerbox.setclassnamebody" name="timerbox.setclassnamebody" class="pilcrow">&#182;</a>
    TimerBox.setClassNameBody
  </h3>
</div>

  </div>
  <div class="body"><p>Sets class name of body of <code>TimerBox</code></p>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="nx">TimerBox</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">setClassNameBody</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">className</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">bodyDiv</span><span class="p">.</span><span class="nx">className</span> <span class="o">=</span> <span class="nx">className</span><span class="p">;</span>
    <span class="p">};</span>

<span class="p">})(</span><span class="nx">node</span><span class="p">);</span>
</pre></div>
        </td>
      </tr>
  </tbody>
</table>
  </div>
</body>
</html>
