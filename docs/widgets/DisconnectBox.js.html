<!DOCTYPE html>
<html>
<head>
  <title>DisconnectBox.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../doc-style.css" />
  <script src="../doc-filelist.js"></script>
  <script>
    var relativeDir = "../";
    var thisFile = "widgets/DisconnectBox.js";
    var defaultSidebar = true;
  </script>
  <script src="../doc-script.js"></script>

</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">

      <div class="heading h1">
        <a href="#disconnectbox">DisconnectBox</a>
      </div>

      <div class="heading h2">
        <a href="#meta-data">Meta-data</a>
      </div>

      <div class="heading h2">
        <a href="#dependencies">Dependencies</a>
      </div>

      <div class="heading h2">
        <a href="#disconnectbox-constructor">DisconnectBox constructor</a>
      </div>

      <div class="heading h3">
        <a href="#disconnectbox.disconnectbutton">DisconnectBox.disconnectButton</a>
      </div>

      <div class="heading h3">
        <a href="#disconnectbox.ee">DisconnectBox.ee</a>
      </div>

      <div class="heading h2">
        <a href="#disconnectbox-methods">DisconnectBox methods</a>
      </div>

      <div class="heading h3">
        <a href="#disconnectbox.append">DisconnectBox.append</a>
      </div>

    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container">
    <div class="background highlight"></div>
<table cellpadding="0" cellspacing="0">
  <tbody>
    
    
      <tr>
        <td class="docs">
          <div class="dox">
<div class="summary">
<div class="pilwrap" id="disconnectbox">
  <h1>
    <a href="#disconnectbox" name="disconnectbox" class="pilcrow"></a>
DisconnectBox
  </h1>
</div>
<p>Copyright(c) 2015 Stefano Balietti
MIT Licensed</p>
</div>
<div class="body">
<p>Shows a disconnect button</p>
<p>www.nodegame.org</p>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">node</span>) </span>{
<span class="hljs-meta">
    "use strict"</span>;

    node.widgets.register(<span class="hljs-string">'DisconnectBox'</span>, DisconnectBox);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap" id="meta-data">
  <h2>
    <a href="#meta-data" name="meta-data" class="pilcrow"></a>
Meta-data
  </h2>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    DisconnectBox.version = <span class="hljs-string">'0.2.2'</span>;
    DisconnectBox.description =
        <span class="hljs-string">'Visually display current, previous and next stage of the game.'</span>;

    DisconnectBox.title = <span class="hljs-string">'Disconnect'</span>;
    DisconnectBox.className = <span class="hljs-string">'disconnectbox'</span>;
    DisconnectBox.texts.leave = <span class="hljs-string">"Leave Experiment"</span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap" id="dependencies">
  <h2>
    <a href="#dependencies" name="dependencies" class="pilcrow"></a>
Dependencies
  </h2>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    DisconnectBox.dependencies = {};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="dox">
<div class="summary">
<div class="pilwrap" id="disconnectbox-constructor">
  <h2>
    <a href="#disconnectbox-constructor" name="disconnectbox-constructor" class="pilcrow"></a>
DisconnectBox constructor
  </h2>
</div>
</div>
<div class="body">
<p><code>DisconnectBox</code> displays current, previous and next stage of the game</p>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">DisconnectBox</span>(<span class="hljs-params"></span>) </span>{
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap" id="disconnectbox.disconnectbutton">
  <h3>
    <a href="#disconnectbox.disconnectbutton" name="disconnectbox.disconnectbutton" class="pilcrow"></a>
DisconnectBox.disconnectButton
  </h3>
</div>
<p>The button for disconnection</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">this</span>.disconnectButton = <span class="hljs-literal">null</span>;
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap" id="disconnectbox.ee">
  <h3>
    <a href="#disconnectbox.ee" name="disconnectbox.ee" class="pilcrow"></a>
DisconnectBox.ee
  </h3>
</div>
<p>The event emitter with whom the events are registered</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">this</span>.ee = <span class="hljs-literal">null</span>;
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap" id="disconnectbox-methods">
  <h2>
    <a href="#disconnectbox-methods" name="disconnectbox-methods" class="pilcrow"></a>
DisconnectBox methods
  </h2>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="dox">
<div class="summary">
<div class="pilwrap" id="disconnectbox.append">
  <h3>
    <a href="#disconnectbox.append" name="disconnectbox.append" class="pilcrow"></a>
DisconnectBox.append
  </h3>
</div>
</div>
<div class="body">
<p>Appends widget to <code>this.bodyDiv</code> and writes the stage</p>
</div>
<div class="details">
<div class="dox_tag_title">See</div>
<div class="dox_tag_detail">
<span class="dox_type">DisconnectBox.writeStage</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">    DisconnectBox.prototype.append = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.disconnectButton = W.get(<span class="hljs-string">'button'</span>, <span class="hljs-keyword">this</span>.getText(<span class="hljs-string">'leave'</span>));
        <span class="hljs-keyword">this</span>.disconnectButton.className = <span class="hljs-string">'btn btn-lg'</span>;
        <span class="hljs-keyword">this</span>.bodyDiv.appendChild(<span class="hljs-keyword">this</span>.disconnectButton);

        <span class="hljs-keyword">this</span>.disconnectButton.onclick = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            node.socket.disconnect();
        };
    };

    DisconnectBox.prototype.listeners = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> that = <span class="hljs-keyword">this</span>;

        <span class="hljs-keyword">this</span>.ee = node.getCurrentEventEmitter();
        <span class="hljs-keyword">this</span>.ee.on(<span class="hljs-string">'SOCKET_DISCONNECT'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">DBdiscon</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'DB got socket_diconnect'</span>);
            that.disconnectButton.disabled = <span class="hljs-literal">true</span>;
        });

        <span class="hljs-keyword">this</span>.ee.on(<span class="hljs-string">'SOCKET_CONNECT'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">DBcon</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'DB got socket_connect'</span>);
        });
    };

    DisconnectBox.prototype.destroy = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.ee.off(<span class="hljs-string">'SOCKET_DISCONNECT'</span>, <span class="hljs-string">'DBdiscon'</span>);
        <span class="hljs-keyword">this</span>.ee.off(<span class="hljs-string">'SOCKET_CONNECT'</span>, <span class="hljs-string">'DBcon'</span>);
    };


})(node);

</pre>
        </td>
      </tr>
    
  </tbody>
</table>

  </div>
</body>
</html>
